const productos =
    [
        {
            id: "Carro-01",
            titulo: "Carro-01",
            imagen: "../img/carro 1.png",
            imgS1: "../img/slider/01.png",
            imgS2: "../img/slider/06.png",
            imgS3: "../img/slider/7.png",
            imgS4: "../img/slider/08.png",
            dni: "1",
            categoria: {
                nombre: "carro",
                id: "carro",
                descripcion: "es un carro muy bonito",
                ancho: "80cm",
                alto: "110cm",
            }
        },

        {
            id: "Carro-02",
            titulo: "Carro-02",
            imagen: "../img/carro2.png",
            imgS1: "../img/slider/01.png",
            imgS2: "../img/slider/06.png",
            imgS3: "../img/slider/7.png",
            imgS4: "../img/slider/08.png",
            dni: "2",
            categoria: {
                nombre: "carro",
                id: "carro",
                descripcion: "es un carro muy bonito",
                ancho: "80cm",
                alto: "110cm",
            }
        },

        {
            id: "Carro-03",
            titulo: "Carro-03",
            imagen: "../img/carro3.png",
            imgS1: "../img/slider/01.png",
            imgS2: "../img/slider/06.png",
            imgS3: "../img/slider/7.png",
            imgS4: "../img/slider/08.png",
            dni: "3",
            categoria: {
                nombre: "carro",
                id: "carro",
                descripcion: "es un carro muy bonito",
                ancho: "80cm",
                alto: "110cm",
            }
        },
        {
            id: "Carro-04",
            titulo: "Carro-04",
            imagen: "../img/carro4.png",
            imgS1: "../img/slider/01.png",
            imgS2: "../img/slider/06.png",
            imgS3: "../img/slider/7.png",
            imgS4: "../img/slider/08.png",
            dni: "4",
            categoria: {
                nombre: "carro",
                id: "carro",
                descripcion: "es un carro muy bonito",
                ancho: "80cm",
                alto: "110cm",
            }
        },

        //Bancos
        {
            id: "Banco-01",
            titulo: "Banco-01",
            imagen: "../img/carro5.png",
            imgS1: "../img/slider/01.png",
            imgS2: "../img/slider/06.png",
            imgS3: "../img/slider/7.png",
            imgS4: "../img/slider/08.png",
            dni: "5",
            categoria: {
                nombre: "Banco",
                id: "Banco",
                descripcion: "es un carro muy bonito",
                ancho: "80cm",
                alto: "110cm",
            }
        },
        {
            id: "Banco-02",
            titulo: "Banco-02",
            imagen: "../img/carro6.png",
            imgS1: "../img/slider/01.png",
            imgS2: "../img/slider/06.png",
            imgS3: "../img/slider/7.png",
            imgS4: "../img/slider/08.png",
            dni: "6",
            categoria: {
                nombre: "Banco",
                id: "Banco",
                descripcion: "es un carro muy bonito",
                ancho: "80cm",
                alto: "110cm",
            }
        },
        {
            id: "Banco-03",
            titulo: "Banco-03",
            imagen: "../img/carro7.png",
            imgS1: "../img/slider/01.png",
            imgS2: "../img/slider/06.png",
            imgS3: "../img/slider/7.png",
            imgS4: "../img/slider/08.png",
            dni: "7",
            categoria: {
                nombre: "banco",
                id: "banco",
                descripcion: "es un carro muy bonito",
                ancho: "80cm",
                alto: "110cm",
            }
        },
        {
            id: "Banco-04",
            titulo: "Banco-04",
            imagen: "../img/carro8.png",
            imgS1: "../img/slider/01.png",
            imgS2: "../img/slider/06.png",
            imgS3: "../img/slider/7.png",
            imgS4: "../img/slider/08.png",
            dni: "8",
            categoria: {
                nombre: "Banco",
                id: "Banco",
                descripcion: "es un carro muy bonito",
                ancho: "80cm",
                alto: "110cm",
            }
        },
        {
            id: "Banco-05",
            titulo: "Banco-05",
            imagen: "../img/carro9.png",
            imgS1: "../img/slider/01.png",
            imgS2: "../img/slider/06.png",
            imgS3: "../img/slider/7.png",
            imgS4: "../img/slider/08.png",
            dni: "9",
            categoria: {
                nombre: "Banco",
                id: "Banco",
                descripcion: "es un carro muy bonito",
                ancho: "80cm",
                alto: "110cm",
            }
        },
        //Tableros
        {
            id: "Tablero-01",
            titulo: "Tablero-01",
            imagen: "../img/carro10.png",
            imgS1: "../img/slider/01.png",
            imgS2: "../img/slider/06.png",
            imgS3: "../img/slider/7.png",
            imgS4: "../img/slider/08.png",
            dni: "9",
            categoria: {
                nombre: "Tablero",
                id: "Tablero",
                descripcion: "es un carro muy bonito",
                ancho: "80cm",
                alto: "110cm",
            }
        },
        {
            id: "Tablero-02",
            titulo: "Tablero-02",
            imagen: "../img/carro11.png",
            imgS1: "../img/slider/01.png",
            imgS2: "../img/slider/06.png",
            imgS3: "../img/slider/7.png",
            imgS4: "../img/slider/08.png",
            dni: "10",
            categoria: {
                nombre: "Tablero",
                id: "Tablero",
                descripcion: "es un carro muy bonito",
                ancho: "80cm",
                alto: "110cm",
            }
        },
        {
            id: "Tablero-03",
            titulo: "Tablero-03",
            imagen: "../img/carro12.png",
            imgS1: "../img/slider/01.png",
            imgS2: "../img/slider/06.png",
            imgS3: "../img/slider/7.png",
            imgS4: "../img/slider/08.png",
            dni: "11",
            categoria: {
                nombre: "Tablero",
                id: "Tablero",
                descripcion: "es un carro muy bonito",
                ancho: "80cm",
                alto: "110cm",
            }
        },
        {
            id: "Tablero-04",
            titulo: "Tablero-04",
            imagen: "../img/carro13.png",
            dni: "12",
            categoria: {
                nombre: "Tablero",
                id: "Tablero",
                descripcion: "es un carro muy bonito",
                ancho: "80cm",
                alto: "110cm",
            }
        },

    ];





let close = document.getElementById("cerrar")
let ventana = document.querySelector(".ventana")
let botonesVer = document.querySelectorAll(".producto-ver")
let contenedorModal = document.getElementById("contenedor_modal")
let nombre = document.querySelector(".modal_titulo")
const contenedorProductos = document.querySelector("#contenedor-productos");
const botonesCategorias = document.querySelectorAll(".boton-categoria");
const tituloPrincipal = document.querySelector(".titulo-principal")

function cargarProductos(productosElegidos) {

    contenedorProductos.innerHTML = "";


    productosElegidos.forEach(producto => {
        let div = document.createElement("div");
        div.classList.add("producto");
        div.innerHTML = `
        <img  class="producto-img" src="${producto.imagen}" alt="carro">
        <div class="producto-detalles" >
            <h3 class="producto-titulo">${producto.titulo}</h3>
            <button onclick="obtenerId(${producto.dni})" class="producto-ver">ver</button>
        </div>`;
        contenedorProductos.append(div);
    });
    actualizarBotonesVer()

}
cargarProductos(productos);



botonesCategorias.forEach(boton => {
    boton.addEventListener("click", (e) => {

        botonesCategorias.forEach(boton => boton.classList.remove("activado"));

        e.currentTarget.classList.add("activado");
        if (e.currentTarget.id != "Todo") {
            const productoCategoria = productos.find(producto => producto.categoria.id === e.currentTarget.id);

            tituloPrincipal.innerText = productoCategoria.categoria.nombre;

            const productosBoton = productos.filter(producto => producto.categoria.id === e.currentTarget.id);

            cargarProductos(productosBoton);

        } else {
            tituloPrincipal.innerText = "Todos los productos"
            cargarProductos(productos);
        }
    })
})




function actualizarBotonesVer(producto) {
    botonesVer = document.querySelectorAll(".producto-ver");
    botonesVer.forEach(botonVer => {
        botonVer.addEventListener("click", (e) => {
            ventana.classList.add("show");
        })
    })

}  
function obtenerId(id ){
    let idSeleccionado = id
    let productoSeleccionado = productos.find(producto => producto.dni == idSeleccionado )
    
    cargarVentana(productoSeleccionado)
}



function cargarVentana(producto) {
        ventana.innerHTML = `<div class="contenedor_modal">
        <div class="modal_superior">
            <h3 class="modal_titulo">
            ${producto.titulo}
            </h3>
            <i class="bi bi-x-lg" id="cerrar"></i>
        </div>
        <div class="contenido_modal">
            <div class="caracteristicas">
    
            
            <div class="modal_slider">
                <div class="slider">
                    <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="${producto.imagen}" class="d-block w-100" alt="...">
                            </div>
                            <div class="carousel-item">
                                <img src="../img/slider/06.png" class="d-block w-100" alt="...">
                            </div>
                            <div class="carousel-item">
                                <img src="../img/slider/7.png" class="d-block w-100" alt="...">
                            </div>
                            <div class="carousel-item">
                                <img src="../img/slider/08.png" class="d-block w-100" alt="...">
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying"
                            data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying"
                            data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
            </div>
        </div>
        <div class="modal_info">
        <div class="description">
        <h4>Caracteristicas</h4>
        <ul>
            <li>Ancho:${producto.ancho}</li>
            <li>Alto:${producto.alto}</li>
            <li>Peso:${producto.peso}</li>
        </ul>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Excepturi ut culpa, consectetur deserunt maiores, labore non rem fuga adipisci, enim voluptates possimus facere ipsa! Eum s?
        </p>
        <div class="boton">
    <a   href="https://wa.me/541136657760" target="_blank" >saber mas</a>
    </div>
        
    </div>
    </div>
    </div>
    </div>
    </div>`
    
    actualizarBotonesClose()
        
        
    
}




function actualizarBotonesClose(producto) {
    close = document.getElementById("cerrar")
    close.addEventListener("click", () => {
        ventana.classList.remove("show")
    });

}

